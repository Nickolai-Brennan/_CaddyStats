# Folder Structure â€“ Caddy Stats

Repository Root:
caddystats/

Purpose:
Define exact project structure and architectural boundaries.
If a feature does not map to a folder below, it does not exist.

---

# 1ï¸âƒ£ Root Directory

caddystats/
â”‚
â”œâ”€â”€ frontend/              # React + Vite app
â”œâ”€â”€ backend/               # FastAPI + GraphQL + REST
â”œâ”€â”€ database/              # SQL schemas, views, migrations
â”œâ”€â”€ docs/                  # All documentation (Phase 0+)
â”œâ”€â”€ scripts/               # Automation scripts (migrations, tasks)
â”œâ”€â”€ docker/                # Dockerfiles + nginx config
â”‚
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md

Rule:
No business logic at root level.

---

# 2ï¸âƒ£ Frontend Structure

frontend/

â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ og-image.png
â”‚   â””â”€â”€ robots.txt
â”‚
â”œâ”€â”€ src/
â”‚
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â”œâ”€â”€ routes.tsx
â”‚   â”‚   â””â”€â”€ providers.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â”œâ”€â”€ MainLayout.tsx
â”‚   â”‚   â”œâ”€â”€ MagazineLayout.tsx
â”‚   â”‚   â”œâ”€â”€ ArticleLayout.tsx
â”‚   â”‚   â””â”€â”€ AdminLayout.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”œâ”€â”€ archive/
â”‚   â”‚   â”œâ”€â”€ article/
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ about/
â”‚   â”‚   â””â”€â”€ contact/
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ article/
â”‚   â”‚   â”œâ”€â”€ stats/
â”‚   â”‚   â””â”€â”€ charts/
â”‚   â”‚
â”‚   â”œâ”€â”€ editor/
â”‚   â”‚   â”œâ”€â”€ EditorRoot.tsx
â”‚   â”‚   â”œâ”€â”€ BlockRenderer.tsx
â”‚   â”‚   â”œâ”€â”€ blocks/
â”‚   â”‚   â””â”€â”€ templates/
â”‚   â”‚
â”‚   â”œâ”€â”€ graphql/
â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”œâ”€â”€ queries.ts
â”‚   â”‚   â”œâ”€â”€ mutations.ts
â”‚   â”‚   â””â”€â”€ fragments.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ stats.ts
â”‚   â”‚   â””â”€â”€ auth.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ usePosts.ts
â”‚   â”‚   â”œâ”€â”€ useLeaderboard.ts
â”‚   â”‚   â””â”€â”€ useProjections.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â””â”€â”€ tailwind.css
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ formatters.ts
â”‚   â”‚   â”œâ”€â”€ constants.ts
â”‚   â”‚   â””â”€â”€ seo.ts
â”‚   â”‚
â”‚   â””â”€â”€ types/
â”‚       â”œâ”€â”€ post.ts
â”‚       â”œâ”€â”€ user.ts
â”‚       â””â”€â”€ stats.ts
â”‚
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ vite.config.ts
â””â”€â”€ tsconfig.json

Boundary Rules:
- No API logic inside components
- No raw fetch calls outside api/ or graphql/
- Editor isolated under src/editor/

---

# 3ï¸âƒ£ Backend Structure

backend/

â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ settings.py
â”‚   â”‚   â””â”€â”€ database.py
â”‚   â”‚
â”‚   â”œâ”€â”€ graphql/
â”‚   â”‚   â”œâ”€â”€ schema.py
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ queries/
â”‚   â”‚   â””â”€â”€ mutations/
â”‚   â”‚
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ leaderboard.py
â”‚   â”‚   â”œâ”€â”€ projections.py
â”‚   â”‚   â”œâ”€â”€ course_history.py
â”‚   â”‚   â””â”€â”€ betting_edges.py
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ post_service.py
â”‚   â”‚   â”œâ”€â”€ stat_service.py
â”‚   â”‚   â”œâ”€â”€ embed_service.py
â”‚   â”‚   â””â”€â”€ ai_explanation_service.py (future)
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ app_models.py
â”‚   â”‚   â””â”€â”€ golf_models.py
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ jwt_handler.py
â”‚   â”‚   â””â”€â”€ permissions.py
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ logging.py
â”‚   â”‚   â””â”€â”€ rate_limit.py
â”‚   â”‚
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ slugify.py
â”‚       â””â”€â”€ helpers.py
â”‚
â”œâ”€â”€ requirements.txt
â””â”€â”€ alembic/

Boundary Rules:
- GraphQL only in graphql/
- REST only in api/
- DB logic only in models/
- Business logic only in services/
- Auth only in auth/

---

# 4ï¸âƒ£ Database Structure

database/

â”œâ”€â”€ schemas/
â”‚   â”œâ”€â”€ app_schema.sql
â”‚   â””â”€â”€ golf_schema.sql
â”‚
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ leaderboard_view.sql
â”‚   â”œâ”€â”€ rolling_form_view.sql
â”‚   â”œâ”€â”€ betting_edge_view.sql
â”‚   â””â”€â”€ course_history_view.sql
â”‚
â”œâ”€â”€ materialized_views/
â”‚   â”œâ”€â”€ leaderboard_mv.sql
â”‚   â”œâ”€â”€ projections_summary_mv.sql
â”‚   â””â”€â”€ rolling_form_mv.sql
â”‚
â””â”€â”€ migrations/

Rules:
- All schema changes versioned
- No manual DB edits in production
- Views separated from base schema

---

# 5ï¸âƒ£ Docker Structure

docker/

â”œâ”€â”€ frontend.Dockerfile
â”œâ”€â”€ backend.Dockerfile
â””â”€â”€ nginx.conf

docker-compose.yml at root.

Rule:
No Dockerfile inside frontend/backend folders.

---

# 6ï¸âƒ£ Scripts Directory

scripts/

Purpose:
Automation + utility tasks

Examples:
- refresh_materialized.py
- generate_sitemap.py
- seed_database.py
- projection_upload.py

Rule:
Scripts must not contain production API logic.

---

# 7ï¸âƒ£ Docs Directory

docs/

Contains:
- README.md
- PROJECT_OVERVIEW.md
- PRODUCT_VISION.md
- USER_PERSONAS.md
- TECH_STACK.md
- SYSTEM_ARCHITECTURE.md
- DATABASE_SCHEMA.md
- API_SPECIFICATION.md
- UI_UX_DESIGN_SYSTEM.md
- SEO_STRATEGY.md
- AI_PROMPT_LIBRARY.md
- DEPLOYMENT_GUIDE.md
- ADMIN_WORKFLOW.md
- FOLDER_STRUCTURE.md

Rule:
All architectural decisions documented here.

---

# 8ï¸âƒ£ Naming Conventions

Frontend:
PascalCase for components
camelCase for hooks/util functions

Backend:
snake_case for files
snake_case for DB fields
PascalCase for Pydantic models

Database:
snake_case tables
snake_case columns
Explicit foreign keys

Routes:
kebab-case in URLs

---

# 9ï¸âƒ£ Architectural Enforcement Rules

1. GraphQL never queries golf_schema directly without service layer.
2. REST endpoints never modify app_schema.
3. Editor blocks stored only in posts.blocks.
4. All heavy stat aggregation in views or materialized views.
5. No circular imports across backend layers.
6. No UI component imports backend types directly.
7. No stat calculation in frontend.

---

# ğŸ”Ÿ Future Expansion Slots

Reserved folders:

frontend/src/views/dashboard/
backend/app/api/premium/
database/schemas/premium_schema.sql (if required)

---

# Phase 0 Closure Condition

Phase 0 is complete when:

- All docs exist in /docs
- Folder structure matches this blueprint
- Database schema files created
- No undefined directories

No Phase 1 work begins until structure is verified.
